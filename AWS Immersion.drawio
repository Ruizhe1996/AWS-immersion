<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" version="24.7.4">
  <diagram name="Page-1" id="p9HYjWT8tbd6QwJP4l6s">
    <mxGraphModel dx="2726" dy="2998" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-1" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.virtual_private_cloud;fillColor=#F58534;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="30" y="140" width="79.5" height="54" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-2" value="VPC" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#879196;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#879196;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="70" y="210" width="1270" height="760" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-3" value="Subnet" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#879196;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#879196;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="275" width="440" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-4" value="Subnet" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#879196;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#879196;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="180" y="565" width="440" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-5" value="Subnet" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#879196;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#879196;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="780" y="275" width="440" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-6" value="Subnet" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;strokeColor=#879196;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#879196;dashed=0;" parent="1" vertex="1">
          <mxGeometry x="780" y="565" width="440" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-7" value="Availability zone" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_availability_zone;strokeColor=#545B64;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#545B64;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="250" width="530" height="600" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-8" value="Availability zone" style="sketch=0;outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_availability_zone;strokeColor=#545B64;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#545B64;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="754" y="249" width="540" height="600" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-9" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;" parent="1" vertex="1">
          <mxGeometry x="670" y="197" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-10" value="" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/internet_globe.svg;" parent="1" vertex="1">
          <mxGeometry x="650" y="-60" width="130" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Vkwi1uemp1FhmpMpcFgj-11" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="Vkwi1uemp1FhmpMpcFgj-10" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="715" y="200" as="sourcePoint" />
            <mxPoint x="790" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-3" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="362.5" y="1040" width="75" height="120" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-1" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#7AA116;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bucket;" parent="LoJhDoDqKrCYPIB8af0b-3" vertex="1">
          <mxGeometry width="75" height="78" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-2" value="S3 Bucket" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="LoJhDoDqKrCYPIB8af0b-3" vertex="1">
          <mxGeometry x="7.5" y="90" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-7" value="Private - 1A" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="250" y="570" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-8" value="Private - 1C" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="880" y="570" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-9" value="Public - 1A" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="250" y="280" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-10" value="Public - 1C" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="880" y="280" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-11" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.route_table;fillColor=#F58536;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="662.5" y="363" width="75" height="69" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-12" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.route_table;fillColor=#F58536;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="673" y="660.5" width="75" height="69" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-15" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="345" y="360" width="69" height="121" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-13" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.vpc_nat_gateway;fillColor=#F58534;gradientColor=none;" parent="LoJhDoDqKrCYPIB8af0b-15" vertex="1">
          <mxGeometry width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-14" value="Nat Gateway" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="LoJhDoDqKrCYPIB8af0b-15" vertex="1">
          <mxGeometry x="4.5" y="91" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-21" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;" parent="1" source="LoJhDoDqKrCYPIB8af0b-1" target="Vkwi1uemp1FhmpMpcFgj-4" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="683" y="705" as="sourcePoint" />
            <mxPoint x="630" y="705" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-22" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.route_table;fillColor=#F58536;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="362.5" y="871" width="75" height="69" as="geometry" />
        </mxCell>
        <mxCell id="LoJhDoDqKrCYPIB8af0b-24" value="AMI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#232F3E;fillColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ami;" parent="1" vertex="1">
          <mxGeometry x="1241" y="871" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-6" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="238" y="373.5" width="62" height="96.5" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-1" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.instance;fillColor=#F58534;gradientColor=none;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-6">
          <mxGeometry width="60" height="63" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-2" value="EC2 Linux" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-6">
          <mxGeometry x="2" y="66.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-7" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58534;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="670.5" y="481" width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-8" target="ZKf3yMH0BYkcKzKcejfR-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1824.5000000000005" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-16" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1670" y="660.5" width="62" height="96.5" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-17" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.instance;fillColor=#F58534;gradientColor=none;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-16">
          <mxGeometry width="60" height="63" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-18" value="EC2 Linux&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; text-wrap: nowrap;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22group%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%221790%22%20y%3D%22660.5%22%20width%3D%2262%22%20height%3D%2296.5%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%223%22%20value%3D%22%22%20style%3D%22outlineConnect%3D0%3Bdashed%3D0%3BverticalLabelPosition%3Dbottom%3BverticalAlign%3Dtop%3Balign%3Dcenter%3Bhtml%3D1%3Bshape%3Dmxgraph.aws3.instance%3BfillColor%3D%23F58534%3BgradientColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20width%3D%2260%22%20height%3D%2263%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%224%22%20value%3D%22EC2%20Linux%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20x%3D%222%22%20y%3D%2266.5%22%20width%3D%2260%22%20height%3D%2230%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-16">
          <mxGeometry x="2" y="66.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-19" value="Target Group Attachment" style="fontStyle=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1944" y="670" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-24" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-15" target="ZKf3yMH0BYkcKzKcejfR-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1910" y="590" as="sourcePoint" />
            <mxPoint x="1960" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-25" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryPerimeter=0;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-19" target="ZKf3yMH0BYkcKzKcejfR-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2027" y="559" as="sourcePoint" />
            <mxPoint x="2040" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-9" target="ZKf3yMH0BYkcKzKcejfR-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1835" y="410" as="targetPoint" />
            <mxPoint x="1835" y="491" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-35" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1790" y="481" width="69" height="114" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-8" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.application_load_balancer;fillColor=#F58534;gradientColor=none;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-35">
          <mxGeometry width="69" height="72" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-33" value="Load Balancer" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-35">
          <mxGeometry x="4.5" y="84" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-37" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1794.5" y="300" width="60" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-9" value="" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;fontColor=#4277BB;labelBackgroundColor=default;fontSize=12;spacingTop=3;image=img/lib/ibm/blockchain/event_listener.svg;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-37">
          <mxGeometry y="40" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-36" value="Loadbalancer Listener" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-37">
          <mxGeometry width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-39" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1980" y="481" width="128" height="68" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-15" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/other/Targets_Management.svg;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-39">
          <mxGeometry width="68" height="68" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-38" value="Target Group" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-39">
          <mxGeometry x="68" y="19" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-43" value="When you specify the subnets in your terraform codes, it means that the load balancer will reside in those subnets and will handle the incoming traffic from these two subnets (should be public)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1580" y="510" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-44" value="&lt;h1&gt;&lt;b&gt;Three different Security groups (instances specific)&lt;/b&gt;&lt;/h1&gt;&lt;div&gt;1. Allow SSH - this rule allow both SSH and HTTP inbound&lt;/div&gt;&lt;div&gt;2. Allow HTTP - this only allows HTTP inbound&lt;/div&gt;&lt;div&gt;3. Allow HTTP from ALB only - this only allows HTTP request that was sent to ALB (by configuring the security group of the ALB)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2560" y="110" width="700" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-45" value="&lt;h1&gt;&lt;b&gt;Configuring the route table (creates the path)&lt;/b&gt;&lt;/h1&gt;&lt;div&gt;1. Public route table - for the connection of my VPC to the internet, which i would need an internet gate way configured.&lt;/div&gt;&lt;div&gt;2. Natgateway route table - Opening up my nategateway (configured) to the internet, this is used by my private subnets for internet&lt;/div&gt;&lt;div&gt;3. S3 private route table - Opening up my VPC to directly connect with my S3 without having to go through internet (VPC end-point)&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2545" y="513.5" width="700" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-46" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-44">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2730" y="370" as="sourcePoint" />
            <mxPoint x="2910" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-47" value="&lt;h1&gt;&lt;b&gt;What will use these security groups?&lt;/b&gt;&lt;/h1&gt;&lt;div&gt;1. Allow SSH - my instance that was used to create my custom AMI.&amp;nbsp;&lt;/div&gt;&lt;div&gt;2. Allow HTTP - my ALB, also used in ALLOW HTTP from ALB only&amp;nbsp;&lt;/div&gt;&lt;div&gt;3. Allow HTTP from ALB only - used by my auto scaling group,&lt;b&gt; ensuring that my instances only receives request from ALB (Why create another security group? if the port is the same?&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff6666&quot;&gt;&lt;b&gt;Ans: Its because the configuration of Allow HTTP from ALB only does not specify CIDR blocks, it specifies the security group from&lt;/b&gt; &lt;b&gt;ALB)&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2560" y="340" width="700" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-48" value="&lt;h1&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;Target group attachment - you can attach to multiple instances , however, you don&#39;t need to&amp;nbsp;&lt;/span&gt;&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;manually attach is you are using auto scaling group.&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1680" y="660.5" width="700" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-50" value="Auto Scaling group" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=none;verticalAlign=top;align=center;fontColor=#D86613;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="2180" y="450" width="130" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="ZKf3yMH0BYkcKzKcejfR-38" target="ZKf3yMH0BYkcKzKcejfR-50">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1835" y="410" as="targetPoint" />
            <mxPoint x="2030" y="520" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-52" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2894" y="645" as="sourcePoint" />
            <mxPoint x="2894" y="745" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-53" value="&lt;h1&gt;&lt;b&gt;What will use these route tables?&lt;/b&gt;&lt;/h1&gt;&lt;div&gt;1. Public route table - my VPC - used by my public subnets&lt;/div&gt;&lt;div&gt;2. Nategateway route table - Nategateway - which will be used for my private subnets&lt;/div&gt;&lt;div&gt;3. S3 private route table - S3&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2540" y="751" width="700" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-54" value="Auto Scaling group" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.groupCenter;grIcon=mxgraph.aws4.group_auto_scaling_group;grStroke=1;strokeColor=#D86613;fillColor=none;verticalAlign=top;align=center;fontColor=#D86613;dashed=1;spacingTop=25;" vertex="1" parent="1">
          <mxGeometry x="340" y="600" width="740" height="173.75" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-57" value="" style="group" vertex="1" connectable="0" parent="ZKf3yMH0BYkcKzKcejfR-54">
          <mxGeometry x="43" y="43.75" width="62" height="96.5" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-58" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.instance;fillColor=#F58534;gradientColor=none;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-57">
          <mxGeometry width="60" height="63" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-59" value="EC2 Linux" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-57">
          <mxGeometry x="2" y="66.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-60" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="900" y="640" width="62" height="96.5" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-61" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.instance;fillColor=#F58534;gradientColor=none;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-60">
          <mxGeometry width="60" height="63" as="geometry" />
        </mxCell>
        <mxCell id="ZKf3yMH0BYkcKzKcejfR-62" value="EC2 Linux" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="ZKf3yMH0BYkcKzKcejfR-60">
          <mxGeometry x="2" y="66.5" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
